<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://editorCaption"
        class="de.diedavids.cuba.healthcheck.web.healthcheckreport.HealthCheckReporEdit"
        datasource="healthCheckRunDs"
        focusComponent="fieldGroup"
        messagesPack="de.diedavids.cuba.healthcheck.web.healthcheckreport">
    <dsContext>
        <datasource id="healthCheckRunDs"
                    class="de.diedavids.cuba.healthcheck.entity.HealthCheckReport"
                    view="healthCheckReport-view">
            <groupDatasource id="checksDs"
                             property="checks"/>
        </datasource>
    </dsContext>
    <actions>
        <action id="closeAction"
                invoke="close"/>
        <action id="historyAction"
                invoke="history"/>
    </actions>
    <dialogMode height="600"
                width="800"/>
    <layout expand="tabSheet"
            spacing="true">
        <fieldGroup id="fieldGroup"
                    datasource="healthCheckRunDs">
            <column width="250px">
                <field editable="false"
                       property="executedAt"/>
            </column>
            <column width="250px">
                <field editable="false"
                       property="result"/>
            </column>
            <column width="250px">
                <field editable="false"
                       property="summary"/>
            </column>
        </fieldGroup>
        <tabSheet id="tabSheet">
            <tab id="checksTab"
                 caption="msg://checks"
                 margin="true">
                <groupTable id="checksTable"
                            height="100%"
                            width="100%">
                    <columns>
                        <group>
                            <column id="category"/>
                        </group>
                        <column id="name"/>
                        <column id="result"/>
                        <column id="message"/>
                        <column id="detailedMessage"
                                maxTextLength="30"/>
                    </columns>
                    <rows datasource="checksDs"/>
                </groupTable>
            </tab>
            <tab id="detailedMessageTab"
                 caption="msg://detailedMessage"
                 margin="true">
                <textArea id="detailedMessageTextArea"
                          datasource="healthCheckRunDs"
                          editable="false"
                          height="100%"
                          property="detailedMessage"
                          width="100%"/>
            </tab>
        </tabSheet>
        <buttonsPanel>
            <button id="closeBtn"
                    action="closeAction"
                    caption="mainMsg://actions.Close"
                    icon="icons/ok.png"/>
            <button id="historyBtn"
                    action="historyAction"
                    caption="msg://history"
                    icon="font-icon:HISTORY"/>
        </buttonsPanel>
    </layout>
</window>
